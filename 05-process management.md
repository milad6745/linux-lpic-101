فصل هفتم LPIC-101 (موضوع 103) به **مدیریت فرآیندها (Process Management)** در لینوکس می‌پردازد. این فصل شامل مباحث مهمی است که برای درک و مدیریت فرآیندها، نظارت بر عملکرد سیستم و کنترل اجرای برنامه‌ها در لینوکس ضروری هستند. در ادامه به شرح کامل این فصل می‌پردازیم:

---

### **1. مفاهیم پایه‌ای فرآیندها (Process Basics)**
- **فرآیند (Process):**
  - یک برنامه در حال اجرا است که شامل کد، داده‌ها و منابع سیستم مانند حافظه و فایل‌های باز است.
  - هر فرآیند یک شناسه منحصر به فرد به نام **PID (Process ID)** دارد.

- **فرآیند والد و فرزند (Parent and Child Processes):**
  - هر فرآیند (به جز فرآیند init) توسط یک فرآیند دیگر ایجاد می‌شود.
  - فرآیند ایجادکننده، **فرآیند والد** و فرآیند ایجادشده، **فرآیند فرزند** نامیده می‌شود.

- **فرآیند init:**
  - اولین فرآیندی است که پس از بوت سیستم اجرا می‌شود و PID آن همیشه `1` است.
  - مسئولیت‌های اصلی init شامل راه‌اندازی سرویس‌ها و مدیریت فرآیندهای یتیم (Orphan Processes) است.

---

### **2. دستورات مدیریت فرآیندها**

#### **1. نمایش فرآیندها:**
- **دستور `ps`:**
  - برای نمایش فرآیندهای در حال اجرا استفاده می‌شود.
  - گزینه‌های رایج:
    - `ps aux`: نمایش تمام فرآیندهای سیستم.
    - `ps -ef`: نمایش فرآیندها با فرمت کامل.
    - `ps -u username`: نمایش فرآیندهای یک کاربر خاص.

- **دستور `top`:**
  - یک ابزار تعاملی برای نمایش فرآیندها و مصرف منابع سیستم (CPU، حافظه و ...) در زمان واقعی.
  - کلیدهای مفید در `top`:
    - `k`: پایان دادن به یک فرآیند.
    - `q`: خروج از `top`.

- **دستور `htop`:**
  - نسخه پیشرفته‌تر `top` با رابط کاربری گرافیکی‌تر و امکانات بیشتر.

#### **2. کنترل فرآیندها:**
- **ارسال سیگنال به فرآیندها:**
  - دستور `kill` برای ارسال سیگنال به فرآیندها استفاده می‌شود.
  - سینتکس:
    ```bash
    kill [signal] PID
    ```
  - سیگنال‌های رایج:
    - `SIGTERM (15)`: درخواست پایان فرآیند به صورت نرمال.
    - `SIGKILL (9)`: پایان اجباری فرآیند.
    - `SIGHUP (1)`: راه‌اندازی مجدد فرآیند (معمولاً برای سرویس‌ها).

- **دستور `killall`:**
  - برای ارسال سیگنال به تمام فرآیندهای با نام مشخص.
  - مثال:
    ```bash
    killall -9 firefox
    ```

- **دستور `pkill`:**
  - برای ارسال سیگنال به فرآیندها بر اساس نام یا سایر ویژگی‌ها.
  - مثال:
    ```bash
    pkill -u username
    ```

#### **3. اولویت‌دهی به فرآیندها:**
- **مفهوم Nice Value:**
  - مقدار `nice` تعیین می‌کند که یک فرآیند چقدر از CPU استفاده کند.
  - محدوده `nice` از `-20` (بالاترین اولویت) تا `19` (کمترین اولویت) است.

- **دستور `nice`:**
  - برای اجرای یک فرآیند با مقدار `nice` مشخص.
  - مثال:
    ```bash
    nice -n 10 command
    ```

- **دستور `renice`:**
  - برای تغییر مقدار `nice` یک فرآیند در حال اجرا.
  - مثال:
    ```bash
    renice 5 -p PID
    ```

---

### **3. فرآیندهای پس‌زمینه و پیش‌زمینه (Background and Foreground Processes)**
- **فرآیند پیش‌زمینه (Foreground Process):**
  - فرآیندی که در حال حاضر کنترل ترمینال را در اختیار دارد و باید منتظر پایان آن بمانید.

- **فرآیند پس‌زمینه (Background Process):**
  - فرآیندی که در پس‌زمینه اجرا می‌شود و کنترل ترمینال را در اختیار نمی‌گیرد.

- **مدیریت فرآیندها:**
  - `&`: اجرای یک فرآیند در پس‌زمینه.
    ```bash
    command &
    ```
  - `Ctrl + Z`: متوقف کردن یک فرآیند پیش‌زمینه و ارسال آن به پس‌زمینه.
  - `fg`: بازگرداندن یک فرآیند پس‌زمینه به پیش‌زمینه.
  - `bg`: ادامه اجرای یک فرآیند متوقف شده در پس‌زمینه.

---

### **4. نظارت بر عملکرد سیستم (System Monitoring)**
- **دستور `uptime`:**
  - نمایش مدت زمان فعالیت سیستم، تعداد کاربران و میانگین بار سیستم.

- **دستور `free`:**
  - نمایش اطلاعات مربوط به حافظه (RAM و swap).

- **دستور `vmstat`:**
  - نمایش آمار سیستم شامل CPU، حافظه، I/O و ...

- **دستور `iostat`:**
  - نمایش آمار مربوط به دیسک و I/O.

---

### **5. مدیریت سرویس‌ها (Service Management)**
- **دستور `systemctl`:**
  - برای مدیریت سرویس‌ها در سیستم‌های با init systemd.
  - مثال‌ها:
    ```bash
    systemctl start service_name
    systemctl stop service_name
    systemctl restart service_name
    systemctl status service_name
    ```

- **دستور `service`:**
  - برای مدیریت سرویس‌ها در سیستم‌های قدیمی‌تر با init SysV.
  - مثال‌ها:
    ```bash
    service service_name start
    service service_name stop
    ```

---

### **6. فرآیندهای زامبی و یتیم (Zombie and Orphan Processes)**
- **فرآیند زامبی (Zombie Process):**
  - فرآیندی که اجرای آن به پایان رسیده است، اما هنوز در جدول فرآیندها وجود دارد.
  - معمولاً به دلیل عدم دریافت سیگنال `SIGCHLD` توسط فرآیند والد ایجاد می‌شود.

- **فرآیند یتیم (Orphan Process):**
  - فرآیندی که والد آن به پایان رسیده است و توسط فرآیند init به فرزندی پذیرفته می‌شود.

---

### **7. ابزارهای پیشرفته**
- **دستور `strace`:**
  - برای ردیابی فراخوان‌های سیستمی و سیگنال‌های یک فرآیند.

- **دستور `lsof`:**
  - برای نمایش فایل‌های باز شده توسط فرآیندها.

- **دستور `pgrep`:**
  - برای جستجوی فرآیندها بر اساس نام یا سایر ویژگی‌ها.

---

این فصل از LPIC-101 به شما کمک می‌کند تا مهارت‌های لازم برای مدیریت فرآیندها، نظارت بر عملکرد سیستم و کنترل اجرای برنامه‌ها در لینوکس را به دست آورید. این مباحث برای هر مدیر سیستم لینوکس ضروری هستند.
